@using ToDoList.Models;

<h3>Here are all the items in <em>@Model["category"].GetName()</em> category:</h3>

@if(Model["categoryItems"].Count!= 0)
{
  <h4>Here are all the items in this category:</h4>
  <ul>
    @foreach (var item in @Model["categoryItems"])
    {
      <li>@item.GetDescription()</li>
    }
  </ul>

}

<h4>Add an item to this category: </h4>

<form action='/categories/@Model["category"].GetId()/items/new' method="post">
  <label for="itemId">Select an item</label>
  <select id='itemId' name='itemId' type='text'>
    @foreach (var item in @Model["allItems"])
    {
      <option value='@item.GetId()'>@item.GetDescription()</option>
    }
  </select>
  <button type="submit">Add</button>
</form>

<p> <a href='/categories/@Model["category"].GetId()/items'>Add a new item to this category </a> </p>
<p> <a href='/items/new'>Add a new item without a category </a> </p>

<p> <a href="/categories">Return to category list</a> </p>
<p> <a href="/">Return to Main page</a> </p>
